## Flyweight Design Pattern ##


### Цел ###

- Споделяне на обект, за да се намали използването на паметта като се използва споделения обект за конструиране на по-големи и сложни обекти, в които той е малка, градивна част

### Проблем ###

Създаването на сложни обекти може да струва много скъпо от гледна точка на използване на памет и бързодействие. Вместо това те могат да бъдат изградени от flyweight обекти.
 
### Чек лист ###

1. Проверете дали създаването на обекта е проблем, който се нуждае от внимание 
2. Разделете състоянието на класа на две: споделено и несподелено
3. Премахнете несподеленото състояние от атрибутите на класа (то трябва да се пресмята от клиента)
4. Създайте factory, която може да кешира и преизползва вече съществуващи инстанции на класа
5. Клиента трябва да използва factory-то вместо new оператора, за да изисква обекти
6. Клиента трябва да проверява или пресмята несподеленото състояние и да го подава към методите на класа

### Диаграма ###

![alt tag](diagrams/flyweight.gif)

### Пример ###

Flyweight използва споделяне, за да поддържа ефикасно голям брой от обекти. Модерните браузери използват тази техника, за да предотвратят зареждането на едно и също изображение два пъти. Когато браузера зареди една уеб страница, той минава през всички изображения на страницата. Той зарежда всички нови изображения от Интернет и ги съхранява във вътрешен кеш. За вече заредени изображения се създава flyweight обект, който има уникали данни, като например новата позиция в страницата, но всичко друго се взима от кеширания обект.

![alt tag](diagrams/flyweight-example.png)
